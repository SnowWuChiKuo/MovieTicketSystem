@model ClientSide.Models.ViewModels.LoginVm

@{
    ViewBag.Title = "登入網站";
}

<div class="container d-flex justify-content-center align-items-center vh-100">
    <div class="card p-4 shadow frosted-glass" style="width: 20rem">
        <h3 class="card-title text-center mb-2">登入</h3>
        <div class="card-body">
            @using (Html.BeginForm("Login", "Members", FormMethod.Post, new { @id = "loginForm" }))
            {
                @Html.AntiForgeryToken()
                @Html.ValidationSummary(false, "", new { @class = "text-danger" })
                <div class="form-group">
                    @Html.LabelFor(model => model.Account)
                    @Html.EditorFor(model => model.Account, new { htmlAttributes = new { @class = "form-control", placeholder = "請輸入帳號" } })
                    @Html.ValidationMessageFor(model => model.Account, "", new { @class = "text-danger" })
                </div>
                <div class="form-group mt-3">
                    @Html.LabelFor(model => model.Password)
                    @Html.EditorFor(model => model.Password, new { htmlAttributes = new { @class = "form-control", placeholder = "請輸入密碼" } })
                    @Html.ValidationMessageFor(model => model.Password, "", new { @class = "text-danger" })
                </div>
                <div class="d-flex gap-2 mt-4 justify-content-around">
                    <button type="submit" class="btn btn-primary btn-sm me-2" style="width: 80px; height: 35px">登入</button>
                    <a href="~/Members/ForgotPassword" class="btn btn-danger btn-sm ms-2" style="width: 80px; height: 35px">忘記密碼</a>
                </div>
            }
        </div>
    </div>
</div>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>

<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>

@section Scripts {
    @Scripts.Render("~/bundles/jqueryval")
}

<script>
     $(document).ready(function () {
         var errorMessage = '@Html.Raw(TempData["ErrorMessage"])';
      if (errorMessage) {
        Swal.fire({
           icon: 'error',
             title: '登入失敗',
             html: errorMessage
            });
        }
      });
</script>
